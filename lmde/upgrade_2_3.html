---
layout: default
---

<body>
  <a href="upgrade_2_3_pt.html">PortuguÃªs</a>

  <h1>Late upgrade - LMDE 2 (Betsy) with Mate to 3 (Cindy) with Cinnamon</h1>

  <p>For those still using Linux Mint Debian Edition version 2, which is long obsolete, here are the instructions for a somewhat clean upgrade</p>
  <p>These instructions are, in fact, a compilation from the instructions and comments from <a href="https://community.linuxmint.com/tutorial/view/2419">this article</a> from Linux Mint page. Just to save you time among some common and solved issues.</p>
  <blockquote>These instructions assume you're using a non-root user with sudo privileges. I always find this safer than becoming root.</blockquote>

  <ol>
    <li><a href="#tldr">TL;DR</a></li>
    <li><a href="#before">Before you begin</a></li>
    <li><a href="#backup_snapshot">First backup and snapshot</a></li>
    <li><a href="#switch">Switch display manager and desktop environment to LightDM and Cinnamon</a>
      <ol>
        <li><a href="#lightdm">Display Manager</a></li>
        <li><a href="#cinnamon">Desktop environment</a></li>
      </ol>
    </li>
    <li><a href="#another_backup_snapshot">Another backup and snapshot</a></li>
    <li><a href="#prepare">Preparing for the upgrade</a></li>
    <li><a href="#upgrade">The upgrade</a></li>
  </ol>

  <h2 id="tldr">TL;DR</h2>

  <p>Install LightDM and Cinnamon, remove MDM and reboot (my system required a reboot for LightDM to fully work).</p>
  <pre>
    sudo apt install lightdm cinnamon mint-meta-debian-cinnamon
    sudo apt remove --purge mdm mint-mdm-themes*
    sudo dpkg-reconfigure lightdm
    sudo reboot
  </pre>

  <p>Test them until you're OK (and your family too, if it's the case), then remove remaining Mate packages and install remaining Cinnamon ones.</p>
  <pre>
    sudo dpkg -r --force-depends mint-info-debian-mate
    sudo dpkg -r --force-depends mint-user-guide-mate
    sudo apt install mint-info-debian-cinnamon mint-user-guide-cinnamon
  </pre>

  <p>Do a backup and a snapshot. The backup procedure is up to you. Use <code>timeshift</code> for the snapshot.</p>
  <pre>
    sudo apt install timeshift
    sudo timeshift --create
    ...
    RSYNC Snapshot saved successfully (&lt;Time&gt;)
    Tagged snapshot '&lt;Name&gt;': ondemand
    sudo timeshift --list
    ...
    Num     Name                 Tags  Description
    ------------------------------------------------------------------------------
    &lt;Number&gt;    >  &lt;Name&gt;  O
  </pre>

  <p>Update LMDE 2 and install the upgrader.</p>
  <pre>
    sudo apt update
    sudo apt upgrade
    sudo apt install mintupgrade
  </pre>

  <p>Set your terminal to unlimited scrolling. In terminal's "Edit" menu, go to "Profile Preferences" -> "Scrolling" - "unlimited".</p>
  <p>Check the update requisites and download packages.</p>
  <pre>
    # Repeat each step until 100% satisfied, fixing everything it tells you
    mintupgrade check
    mintupgrade download
  </pre>

  <p>Update your backup and do another snapshot.</p>
  <pre>
    # Again, the backup part is up to you
    sudo timeshift --create
  </pre>

  <p>Upgrade LMDE!</p>
  <blockquote>Note the packages it will remove - you might want some of them back afterwards</blockquote>
  <pre>
    mintupgrade upgrade
  </pre>

  <p>Review overall settings. In my case, I had to reenable 'Manual login' and disable 'Hide user list' in Main menu - Administration - Login Window - Users.</p>
  <p>When fully satisfied with the results, remove the snapshots.</p>
  <pre>
    # If you want to select snapshots to remove
    sudo timeshift --list
    timeshift --delete  --snapshot '&lt;Name&gt;'
    # If you want to remove all snapshots
    timeshift --delete-all
  </pre>

  <p>Done.</p>

  <h2 id="before">Before you begin</h2>

  <p>Before you start thrashing in the shell, let's have a couple important things in mind:</p>
  <ul>
    <li>Linux Mint Debian Edition is not a rolling release distro. So, the only pain-free upgrade scheme is a fresh install. The upgrade recipe and tools are a incredibly great work from Mint mantainer <a href="https://community.linuxmint.com/user/view/3">Clement Lefebvre</a> for those who prefer not to wipe the system partition. But it's not trivial - you have been warned.</li>
    <li>LMDE 3 comes with LightDM display manager and Cinnamon desktop environment, and the updater requires them. You can switch back later, but you'll <b>have to</b> go for LightDM and Cinnamon for the upgrade.</li>
    <li>You'll <b>have to</b> do a backup and a system snapshot. Even if you never did. <b>Do not</b> skip it this time.</li>
    <li>Fully read and understand the entire instructions before you start typing. You better not have surprises along the way.</li>
    <li>Are you comfortable with the command line? You'll need to be.</li>
  </ul>

  <h2 id="backup_snapshot">First backup and snapshot</h2>

  <p>You decided to go ahead, so it's serious now. Grab your external HD or whatever and backup your files. Plus, install the handy system snapshot tool <a href="https://teejeetech.in/timeshift/">timeshift</a> and create a system snapshot. Then, you're safe to begin messing with your installation.</p>

  <pre>
    # These commands only do the snapshot, not the backup. Do the backup your way.
    sudo apt install timeshift
    sudo timeshift --create
  </pre>

  <h2 id="switch">Switch display manager and desktop environment to LightDM and Cinnamon</h2>

  <h3 id="lightdm">Display Manager</h3>

  <h3 id="cinnamon">Desktop environment</h3>

  <h2 id="another_backup_snapshot">Another backup and snapshot</h3>

  <h2 id="prepare">Preparing for the upgrade</h2>

  <h2 id="upgrade">The upgrade</h2>

</body>
